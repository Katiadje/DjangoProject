{% extends "base.html" %}
{% block title %}Villes{% endblock %}

{% block content %}
<style>
  /* Container */
  .filter-buttons {
    margin-bottom: 1.5rem;
  }

  .filter-buttons a {
    padding: 0.6rem 1.2rem;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 600;
    color: white;
    background-color: #6c757d; /* gris par défaut */
    margin-right: 1rem;
    transition: background-color 0.3s ease;
    display: inline-block;
  }

  .filter-buttons a.active,
  .filter-buttons a:hover {
    background-color: #007bff; /* bleu vif */
  }

  /* Table styles */
  table {
    width: 100%;
    border-collapse: collapse;
    font-family: Arial, sans-serif;
  }

  thead {
    background-color: #343a40; /* gris foncé */
    color: white;
  }

  th, td {
    padding: 12px 15px;
    border: 1px solid #dee2e6;
    text-align: left;
  }

  th.capital, td.capital {
    text-align: center;
  }

  tbody tr:nth-child(even) {
    background-color: #f8f9fa; /* gris clair */
  }

  tbody tr:hover {
    background-color: #e9ecef;
  }

  /* Lien dans le tableau */
  tbody td a {
    color: #007bff;
    text-decoration: none;
    font-weight: 600;
  }

  tbody td a:hover {
    text-decoration: underline;
  }
</style>

<h2 style="text-align: center;">Liste des villes</h2>

<div class="filter-buttons">
  <a href="{% url 'cities' %}?show=all" class="{% if show == 'all' %}active{% endif %}">Toutes les villes</a>
  <a href="{% url 'cities' %}?show=capitals" class="{% if show == 'capitals' %}active{% endif %}">Capitales uniquement</a>
</div>

<table>
  <thead>
    <tr>
      <th>Ville</th>
      <th>Pays</th>
      <th class="capital">Capital</th>
    </tr>
  </thead>
  <tbody>
    {% for city in cities %}
    <tr>
      <td><a href="{% url 'city_detail' city.city_id %}">{{ city.city }}</a></td>
      <td>{{ city.country.country }}</td>
      <td class="capital">{% if city.capital %}✔️{% else %}❌{% endif %}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3">Aucune ville trouvée.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
